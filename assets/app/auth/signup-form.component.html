<form [formGroup]="form" (ngSubmit)='onSubmit()'>
    <div class="form-group container">
        <h1 style="text-align: center">Sign Up</h1>
        <label for="username">Username</label>
        <input 
            id="username" 
            type="text" 
            class="form-control"
            formControlName="username">
        <div *ngIf="form.get('username').pending">Checking for uniqueness...</div>
        <div *ngIf="form.get('username').touched && form.get('username').errors">
            <div 
                class="alert alert-danger"
                *ngIf="form.get('username').errors.required">Username is required.</div>
            <div 
                class="div alert alert-danger"
                *ngIf="form.get('username').errors.shouldBeUnique">This Username is already taken.</div>
            <div 
                class="div alert alert-danger"
                *ngIf="form.get('username').errors.cannotContainSpace">Username cannot contain spaces.</div>
        </div>
    </div>

    <div class="form-group container">
        <label for="email">Email</label>
        <input 
            id="email" 
            type="text" 
            class="form-control"
            formControlName="email">
        <div *ngIf="form.get('email').touched && !form.get('email').valid">
            <div 
                class="alert alert-danger"
                *ngIf="form.get('email').errors.required">Email is required.</div>
            <div 
                class="div alert alert-danger"
                *ngIf="form.get('email').errors.shouldBeUnique">This Email is already taken.</div>
        </div>
    </div>

    <div class="form-group container">
        <label for="password">New Password</label>
        <input 
            id="password" 
            type="password" 
            class="form-control"
            formControlName="password">
        <div *ngIf="form.get('password').touched && !form.get('password').valid">
            <div 
                class="alert alert-danger"
                *ngIf="form.get('password').errors.required">Password is required.</div>
            <div 
                class="alert alert-danger"
                *ngIf="form.get('password').errors.complexPassword">
                Password should be minimum {{form.get('password').errors.complexPassword.minLength}} characters.</div>
        </div>
    </div>

    <div class="form-group container">
        <label for="confirmPassword">Confirm Password</label>
        <input 
            id="confirmPassword" 
            type="password" 
            class="form-control"
            formControlName="confirmPassword">
        <div *ngIf="form.get('confirmPassword').touched && !form.get('confirmPassword').valid">
            <div 
                class="alert alert-danger"
                *ngIf="form.get('confirmPassword').errors.required">Confirm the password.</div>
        </div>
        <div 
            class="alert alert-danger"
            *ngIf="form.get('confirmPassword').touched && form.hasError('passwordsShouldMatch')">Passwords don't match.</div>

    <button class="btn btn-primary btn-lg btn-block" [disabled]="!form.valid">Sign Up</button>
    </div>
</form>
